<div class="wrapper">
    <div class="page-header page-header-xsmall">
        <div class="page-header-image rellax-header" data-rellax-speed="-8" style="background-image: url('assets/img/bg6.jpg'); transform: translate3d(0px, 0px, 0px);"></div>
        <div class="content-center">
            <div class="row">
                <div class="col-md-8 ml-auto mr-auto">
                    <h1 class="title">Crea tu evento</h1>
                    <h4>¡Tu próxima celebración será inolvidable!</h4>
                </div>
            </div>
        </div>
    </div>
    <!-- NUEVO EVENTO :: SECCION PRINCIPAL -->
    <div class="section" *ngIf="step1">
        <div class="container">
            <h3 class="text-center border-bottom padding-">Detalles del evento</h3>
            <div class="row">
                <div class="col-6 mx-auto">
                    <p class="text-muted">Completa cada campo con la información solicitada. Esto nos ayudará a entregar un mejor servicio.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="eventType" class="d-block">Tu evento es...</label>
                    <angular2-multiselect 
                        [data]="listEventType" 
                        [(ngModel)]="listSelectedEventType" 
                        [settings]="listSettingsEventType" 
                        (onSelect)="onSelectEventType($event)">
                    </angular2-multiselect>
                    <small id="helpId" class="form-text text-muted"></small>
                </div>
            </div>
        
            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="nombre">Título de tu evento</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" aria-describedby="helpId" placeholder="Título" [(ngModel)]="evento.titulo"  />
                    <small id="helpId" class="form-text text-muted">Con este título tus invitados conocerán tu evento.</small>
                </div>
            </div>
            
            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="fecha">Fecha y hora del evento</label>
                </div>
            </div>
            <div class="row">
                <div class="d-flex col-5 mx-auto form-group justify-content-between align-items-center">
                    <ngb-datepicker ngDefaultControl [(ngModel)]="datepick"></ngb-datepicker>
                    <ngb-timepicker ngDefaultControl [(ngModel)]="timepick"></ngb-timepicker>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="lugar">Lugar del evento</label>
                    <input type="text" class="form-control" name="lugar" id="lugar" aria-describedby="helpId" placeholder="Dirección" [(ngModel)]="evento.direccion"    />
                    <small id="helpId" class="form-text text-muted">Dirección en que se celebrará tu evento.</small>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="banco" class="d-block">Entidad Financiera</label>
                    <angular2-multiselect 
                        [data]="listBancos"
                        [(ngModel)]="listBancosSelected"
                        [settings]="listBancosSettings"
                        (onSelect)="onBancoSelect($event)">
                    </angular2-multiselect>
                    <small id="helpId" class="form-text text-muted">Entidad Financiera donde se realizarán los abonos de tus invitados.</small>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="tipo_cuenta" class="d-block">Tipo de cuenta</label>
                    <angular2-multiselect 
                        [data]="listTipoCuenta"
                        [(ngModel)]="listTipoCuentaSelected"
                        [settings]="listTipoCuentaSettings"
                        (onSelect)="onTipoCuentaSelect($event)"></angular2-multiselect>
                    <small id="helpId" class="form-text text-muted">Tipo de cuenta de tu entidad financiera.</small>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="num_cuenta">Número de Cuenta</label>
                    <input type="text" class="form-control" name="num_cuenta" id="num_cuenta" aria-describedby="helpId" placeholder="00012223904" [(ngModel)]="evento.numeroCuenta"   />
                    <small id="helpId" class="form-text text-muted">Número de cuenta corriente donde se realizarán los abonos.</small>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="num_cuenta">RUT propietario de la Cuenta</label>
                    <input type="text" class="form-control" name="rut_cuenta" id="rut_cuenta" aria-describedby="helpId" placeholder="17.892.237-1" [(ngModel)]="evento.rutCuenta" />
                    <small id="helpId" class="form-text text-muted">RUT del propietario de la cuenta a la que se realizan los abonos.</small>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="email_banco">Correo Electrónico</label>
                    <input type="text" class="form-control" name="email_banco" id="email_banco" aria-describedby="helpId" placeholder="comprobante@ejemplo.cl" [(ngModel)]="evento.emailCuenta"   />
                    <small id="helpId" class="form-text text-muted">En esta dirección se notificarán los abonos realizados.</small>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="telefono">Teléfono</label>
                    <input type="text" class="form-control" name="telefono" id="telefono" aria-describedby="helpId" placeholder="+56 9 22 345 643" [(ngModel)]="evento.telefono"   />
                    <small id="helpId" class="form-text text-muted">Sólo usaremos tu número para informaciones importantes.</small>
                </div>
            </div>

        <!--</form>-->

            <div class="space-70"></div>

            <h3 class="text-center border-bottom padding-">Deseos disponibles en tu evento</h3>
            <div class="row">
                <div class="col-6 mx-auto">
                    <p class="text-muted">Estos deseos estarán disponibles en tu evento. Siéntete libre de agregar más o quitar algunos.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-6 mx-auto">
                    <angular2-multiselect 
                        [data]="listDeseos" 
                        [(ngModel)]="listDeseosSelected"  
                        [settings]="listDeseosSettings" 
                        (onSelect)="onDeseoSelec($event)">
                    </angular2-multiselect>
                </div>
            </div>
            <div class="row">
                <div class="col-6 mx-auto ">
                    <button class="btn btn-primary btn-round mx-2" type="button" (click)="onClickAddDeseo()"><i class="now-ui-icons ui-1_simple-add mr-2"></i> Agregar deseo</button>
                </div>
            </div>

            <div class="row justify-content-center">
                <button class="btn btn-primary btn-round" (click)="nextPage()" >Siguiente</button>
            </div>

            <div class="space-70"></div>

            
        </div>
    </div>

    <div class="section" *ngIf="step2">
        <div class="container">
            <h3 class="text-center border-bottom padding-">Agrega invitados a tu evento</h3>
            <div class="row">
                <div class="col-6 mx-auto">
                    <p class="text-muted">Aquí debes especificar el nombre de tus invitados junto con su correo electrónico. Más adelante podrás invitar personas que no tengan correo electrónico.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-6 mx-auto form-group">
                    <label for="nombreInv">Nombre</label>
                    <input type="text" class="form-control" id="nombreInv" name="nombreInv" aria-describedby="helpId" 
                    placeholder="Nombres" [(ngModel)]="nuevoInvitado.firstname" />
                    <small id="helpId" class="form-text text-muted">Nombre de tu invitado</small>
                </div>
            </div>
            <div class="row">
              <div class="col-6 mx-auto form-group">
                <label for="ApellidosInv">Apellidos</label>
                <input type="text" class="form-control" id="ApellidosInv" name="ApellidosInv" aria-describedby="helpId"
                  placeholder="Apellidos" [(ngModel)]="nuevoInvitado.lastname" />
                <small id="helpId" class="form-text text-muted">Apellidos de tu invitado</small>
              </div>
            </div>
            <div class="row">
                <div class="col-6 mx-auto form-group">
                  <label for="emailInv">Correo electrónico</label>
                  <input type="email" class="form-control" id="emailInv" name="emailInv" aria-describedby="helpId" placeholder="ejemplo@email.cl" [(ngModel)]="nuevoInvitado.email" email/>
                  <small id="helpId" class="form-text text-muted">Correo electrónico de tu nuevo invitado.</small>
                </div>    
            </div>

            <div class="row"> 
                <div class="col-6 mx-auto">
                  <button class="btn btn-primary btn-round" (click)="agregarInvitado()">Invitar</button>
                </div>
            </div>
            <div class="space-50"></div>

            <div class="row" [ngClass]="{'d-none': invitados.length === 0}">
                <div class="col-6 mx-auto">
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th colspan="2">Invitados</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let i of invitados">
                                <td>{{ i.firstname + ' ' + i.lastname + ' ( ' + i.email + ' ) '}}</td>
                                <td class="td-actions text-right">
                                    <button type="button" rel="tooltip" class="btn btn-danger btn-icon btn-round" (click)="removerInvitado( i )">
                                        <i class="now-ui-icons ui-1_simple-remove"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row" [ngClass]="{'d-none': invitados.length === 0}">
                <div class="col-6 mx-auto">
                    <p class="text-muted">Al presionar finalizar aceptas nuestras políticas de privacidad y uso. Además, se enviará un correo electrónico a cada uno de tus invitados, avisándoles de tu envento.</p>
                </div>
            </div>
            <div class="row" [ngClass]="{'d-none': invitados.length === 0}">
                <div class="col-6 mx-auto">
                    <button class="btn btn-primary btn-round" [disabled]="invitados.length === 0" (click)="terminarEvento()">Finalizar</button>
                </div>
            </div>
            <div class="space-70"></div>
        </div>
    </div>
</div>
